<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fixbet ‚Ä¢ 3D Advanced Slot</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme:{ extend:{
      fontFamily:{ sans:['Inter','ui-sans-serif','system-ui'] },
      colors:{ gold:'#ffd770', gold2:'#ffb84a' },
      boxShadow:{ glow:'0 0 0 1px rgba(255,215,112,.25), 0 0 28px rgba(255,215,112,.15)' },
      keyframes:{
        coin:{'0%':{transform:'translate(0,0) scale(.7)',opacity:1},'100%':{transform:'translate(var(--x),var(--y)) scale(.9)',opacity:0}},
        shine:{'0%':{transform:'translateX(-120%)'},'100%':{transform:'translateX(220%)'}},
        tick:{'0%,100%':{transform:'translateY(0)'},'50%':{transform:'translateY(-2px)'}},
        bump:{'0%,100%':{transform:'translateZ(0) scale(1)'},'40%':{transform:'translateZ(30px) scale(1.04)'}}
      },
      animation:{ coin:'coin .9s ease-out forwards', tick:'tick .08s ease-out', bump:'bump .5s ease-out' }
    }}
  }
</script>
<style>
  :root{ color-scheme:dark }
  body{
    min-height:100vh; margin:0; color:#fff;
    background:
      radial-gradient(1200px 700px at 20% -10%, rgba(255,216,120,.12), transparent 50%),
      radial-gradient(1000px 600px at 120% 0%, rgba(40,224,185,.12), transparent 50%),
      linear-gradient(180deg,#0b0f14 0%, #0e1621 60%, #0b0f14 100%);
    display:flex; align-items:center; justify-content:center; font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial;
  }

  /* --- 3D Makine --- */
  .rig { perspective: 1600px; }
  .machine {
    width: 660px; max-width: 96vw; transform-style: preserve-3d;
    border-radius: 30px; padding: 30px;
    background: linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.28));
    border: 1px solid rgba(255,255,255,.08);
    box-shadow:
      0 30px 60px rgba(0,0,0,.55),
      inset 0 20px 40px rgba(0,0,0,.45),
      inset 0 -10px 20px rgba(255,255,255,.05);
    transition: transform .5s cubic-bezier(.2,.6,.2,1);
  }
  .machine.spin-tilt { transform: rotateX(7deg) rotateY(-7deg); }
  .bezel {
    position: relative; border-radius: 22px; padding: 18px;
    background: radial-gradient(circle at 50% -60%, rgba(255,255,255,.14), transparent 60%),
                linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
    border: 1px solid rgba(255,255,255,.08);
    box-shadow: inset 0 10px 25px rgba(0,0,0,.35);
  }
  .reflection { pointer-events:none; position:absolute; inset:0; border-radius:22px; overflow:hidden; }
  .reflection::before{
    content:""; position:absolute; top:0; left:-40%;
    width:40%; height:100%; transform: skewX(-18deg);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
    animation: shine 3s linear infinite;
  }

  .reel {
    width: 170px; height: 360px; overflow:hidden;
    border-radius: 18px; border:1px solid rgba(255,255,255,.12);
    background: linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.3));
    position: relative; box-shadow: inset 0 12px 40px rgba(0,0,0,.5);
  }
  .strip { position:absolute; top:0; left:0; right:0; will-change:transform; filter: drop-shadow(0 2px 2px rgba(0,0,0,.35)); }
  .strip.spin-blur { filter: blur(1.2px) drop-shadow(0 2px 2px rgba(0,0,0,.35)); }
  .symbol {
    display:flex; align-items:center; justify-content:center;
    height:120px; font-size:62px; text-shadow: 0 2px 10px rgba(0,0,0,.45);
  }

  .lever{ position:absolute; right:-40px; top:6px; width:12px; height:200px;
          background:linear-gradient(180deg,#a8a8a8,#555); border-radius:999px;
          box-shadow:inset 0 0 10px rgba(0,0,0,.7); transform-origin:top; transition: transform .22s ease; }
  .lever::after{ content:""; position:absolute; bottom:-16px; left:50%; transform:translateX(-50%);
          width:48px; height:48px; border-radius:999px;
          background:radial-gradient(circle at 30% 30%, #ffefbd, #ffbe55 45%, #c77600);
          box-shadow:0 0 0 2px rgba(0,0,0,.6), 0 12px 20px rgba(0,0,0,.65) }

  .coin{ position:absolute; width:14px; height:14px; border-radius:999px;
         background:radial-gradient(circle at 30% 30%, #fff2bf, #ffd770 45%, #ffb84a 70%, #c67a00 100%); pointer-events:none }

  .panel .cell{ border-radius:16px; background:rgba(255,255,255,.05); padding:12px }
  .panel .v{ font-weight:800 }
  .winflash{ box-shadow:0 0 0 2px rgba(255,215,112,.35), 0 0 30px rgba(255,215,112,.25) }

  .modal{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; padding:20px }
</style>
</head>
<body>
  <div class="rig">
    <div id="machine" class="machine">
      <div class="bezel">
        <div class="reflection"></div>
        <div class="flex items-center justify-center gap-6 relative">
          <div class="reel"><div class="strip" id="strip1"></div></div>
          <div class="reel"><div class="strip" id="strip2"></div></div>
          <div class="reel"><div class="strip" id="strip3"></div></div>
          <div id="lever" class="lever"></div>
        </div>

        <div class="mt-6 grid grid-cols-3 gap-3 panel text-center">
          <div class="cell"><div class="text-xs text-white/60">Bahis</div><div class="v text-xl">‚Ç∫4</div></div>
          <div class="cell"><div class="text-xs text-white/60">Tur</div><div id="spinCount" class="v text-xl">0/4</div></div>
          <div class="cell"><div class="text-xs text-white/60">Kazan√ß</div><div id="winAmount" class="v text-xl" style="color:#ffd770">‚Ç∫0</div></div>
        </div>

        <div class="mt-6 flex items-center justify-center">
          <button id="btnSpin" class="px-7 py-3 rounded-2xl bg-gradient-to-b from-gold to-gold2 text-black font-extrabold shadow-glow hover:brightness-105 active:brightness-95">D√∂nd√ºr</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Final Modal -->
  <div id="doneModal" class="modal">
    <div class="max-w-md w-full rounded-2xl bg-[#101621] border border-white/10 p-6 text-center shadow-glow">
      <div class="text-2xl font-extrabold">Bakiyenizi √ßekmeniz i√ßin</div>
      <div class="mt-2 text-white/80">botumuza <b>abone olun</b> ve <b>anla≈ümalƒ± siteye</b> gidin.</div>
      <div class="mt-5 flex items-center justify-center gap-3">
        <a id="goBtn" target="_blank" rel="noopener" class="px-6 py-3 rounded-2xl bg-gradient-to-b from-gold to-gold2 text-black font-extrabold shadow-glow hover:brightness-105">Devam Et</a>
        <button id="closeBtn" class="px-6 py-3 rounded-2xl bg-white/10 text-white hover:bg-white/15">Kapat</button>
      </div>
    </div>
  </div>

<script>
/* === Rastgele y√∂nlendirme linkleri === */
const LINKS = [
  "https://t.me/mockerabi_bot",
  "https://t.me/tarafbetGitBOT",
  "https://t.me/betine_denemebonusbot",
  "https://t.me/denemekutubot",
  "https://t.me/DenemeKutusubot",
  "https://t.me/Denemebonusuveren1bot",
  "https://t.me/Marsbahis1casibombot",
  "https://t.me/Yapayzekabah1sbot"
];

/* === Slot temel === */
const symbols = ["üçã","üçí","üîî","‚≠ê","üíé","7Ô∏è‚É£","üçÄ"];
const ROW_H = 120, VISIBLE = 3, REPEAT = 90;
// daha ‚Äúger√ßek√ßi‚Äù g√∂r√ºn√ºm: ≈üeritler uzun, blur ve hƒ±zlan-yava≈ülan
const strips = ["strip1","strip2","strip3"].map(id=>document.getElementById(id));
strips.forEach(s=>{
  const frag = document.createDocumentFragment();
  for(let i=0;i<REPEAT;i++){ const el=document.createElement("div"); el.className="symbol"; el.textContent=symbols[i%symbols.length]; frag.appendChild(el); }
  s.appendChild(frag); s.style.transform="translateY(0)";
});

const machine = document.getElementById("machine");
const lever   = document.getElementById("lever");
const btnSpin = document.getElementById("btnSpin");
const spinCountEl = document.getElementById("spinCount");
const winAmountEl = document.getElementById("winAmount");
const doneModal = document.getElementById("doneModal");
const goBtn = document.getElementById("goBtn");
const closeBtn = document.getElementById("closeBtn");

let totalSpins = 4, spinsDone = 0, spinning = false;

/* === WebAudio: motor & tick & win === */
const AC = window.AudioContext || window.webkitAudioContext;
const audio = new AC();
function tone(f=880, ms=120, gain=0.07, type='sine'){
  const o=audio.createOscillator(), g=audio.createGain(); o.type=type; o.frequency.value=f; g.gain.value=gain;
  o.connect(g).connect(audio.destination); o.start(); setTimeout(()=>o.stop(), ms);
}
function motorStart(){ tone(180,140,.035,'sawtooth'); }
function motorRun(step){ tone(220+step*10,60,.02,'sawtooth'); }
function tick(){ tone(600,45,.045,'square'); }
function winSmall(){ tone(820,120,.08); setTimeout(()=>tone(980,140,.09),120); }
function winBig(){
  const seq=[540,700,860,1020,1260,1480]; let t=0; for(const f of seq){ setTimeout(()=>tone(f,140,.1),t); t+=160; }
}

/* === Yardƒ±mcƒ±lar === */
const idx = s => symbols.indexOf(s);
const fmt = n => "‚Ç∫" + Number(n).toLocaleString("tr-TR");
// Y√ºksek kazan√ßlar
const PAY_TABLE = [
  ["üçí","üçí","üçí",  2000],
  ["‚≠ê","‚≠ê","‚≠ê",   5000],
  ["üíé","üíé","üíé", 50000]
];
// Senaryo: 1-2 k√º√ß√ºk, 3 bo≈ü, 4 b√ºy√ºk
const riggedTargets = () => {
  if (spinsDone===0) return ["üçí","üçí","üçí"];
  if (spinsDone===1) return ["‚≠ê","‚≠ê","‚≠ê"];
  if (spinsDone===2) return ["üçã","üîî","7Ô∏è‚É£"];
  return ["üíé","üíé","üíé"];
};
function updateSpinUI(){ spinCountEl.textContent = `${spinsDone}/${totalSpins}`; }
function amountAnim(add){
  const cur = Number(winAmountEl.textContent.replace(/[^0-9]/g,""))||0, target = cur + add;
  const start = performance.now(), dur = 650; winAmountEl.classList.add("winflash");
  requestAnimationFrame(function step(t){ const p=Math.min(1,(t-start)/dur); winAmountEl.textContent=fmt(Math.round(cur+(target-cur)*p)); if(p<1) requestAnimationFrame(step); else setTimeout(()=>winAmountEl.classList.remove("winflash"),280); });
}
function coinsBurst(x,y,count=18){
  for(let i=0;i<count;i++){
    const c=document.createElement("div"); c.className="coin";
    const ang=Math.random()*Math.PI*2, dist=140+Math.random()*160;
    c.style.setProperty("--x", Math.cos(ang)*dist+"px");
    c.style.setProperty("--y", (Math.sin(ang)*dist-60)+"px");
    c.style.left=x+"px"; c.style.top=y+"px";
    document.body.appendChild(c); c.style.animation="coin .9s ease-out forwards"; setTimeout(()=>c.remove(), 920);
  }
}

/* === Daha ger√ßek√ßi spin: hƒ±zlan -> sabit -> yava≈üla (transition + motor sesi) === */
async function spinOnce(){
  if(spinning) return; spinning = true;
  try{ audio.resume && audio.resume(); }catch{}
  machine.classList.add('spin-tilt');
  lever.style.transform="rotate(28deg)"; setTimeout(()=>lever.style.transform="rotate(0deg)",260);

  const targets = riggedTargets().map(idx);

  // motor ba≈üla + kƒ±sa ramp
  motorStart(); for(let i=0;i<6;i++) setTimeout(()=>motorRun(i), 80*i);

  // d√∂nmeye ba≈üla
  strips.forEach((s,i)=>{
    const durUp   = 260 + i*40;   // hƒ±zlanma
    const durHold = 700 + i*80;   // sabit
    const durDown = 520 + i*160;  // yava≈ülama (uzun, ger√ßek√ßi)
    const rounds  = 8 + i*2;      // tam tur
    const stopRow = rounds*symbols.length + (targets[i] + Math.floor(VISIBLE/2));

    // hƒ±zlanma
    s.className = "strip spin-blur";
    s.style.transition = `transform ${durUp}ms cubic-bezier(.2,.7,.2,1)`;
    s.style.transform  = `translateY(-${(rounds*0.25)*symbols.length*ROW_H}px)`;

    // sabit
    setTimeout(()=>{
      s.style.transition = `transform ${durHold}ms linear`;
      s.style.transform  = `translateY(-${(rounds*0.75)*symbols.length*ROW_H}px)`;
    }, durUp);

    // yava≈ülama + hedefe kilit
    setTimeout(()=>{
      s.style.transition = `transform ${durDown}ms cubic-bezier(.1,.9,.2,1)`;
      s.style.transform  = `translateY(-${stopRow*ROW_H}px)`;
      setTimeout(()=>{ s.classList.remove('spin-blur'); s.classList.add('animate-tick'); tick(); setTimeout(()=>s.classList.remove('animate-tick'),60); }, durDown-90);
    }, durUp+durHold);
  });

  // en uzun s√ºrenin bitmesini bekle
  const wait = 260+40*2 + 700+80*2 + 520+160*2 + 120;
  await new Promise(r=>setTimeout(r, wait));

  // normalize
  strips.forEach((s,i)=>{
    s.style.transition = "";
    const finalTranslate = -((targets[i] + Math.floor(VISIBLE/2)) % REPEAT) * ROW_H;
    s.style.transform = `translateY(${finalTranslate}px)`;
  });

  // kazan√ß
  const cur = riggedTargets(); let payout=0;
  for(const w of PAY_TABLE){ if(w[0]===cur[0]&&w[1]===cur[1]&&w[2]===cur[2]){ payout=w[3]; break; } }
  if(payout>0){
    amountAnim(payout);
    const r = winAmountEl.getBoundingClientRect();
    coinsBurst(r.left+r.width/2, r.top+window.scrollY-10, payout>=5000?34:20);
    (payout>=5000? winBig : winSmall)();
    machine.classList.add('animate-bump');
    setTimeout(()=>machine.classList.remove('animate-bump'),500);
  }

  spinsDone++; updateSpinUI();
  machine.classList.remove('spin-tilt');

  if(spinsDone>=totalSpins){
    const link = LINKS[Math.floor(Math.random()*LINKS.length)];
    goBtn.href = link;
    doneModal.style.display = "flex";
  }
  spinning = false;
}

/* === Etkinlikler === */
btnSpin.addEventListener("click", spinOnce);
closeBtn.addEventListener("click", ()=> doneModal.style.display="none");
goBtn.addEventListener("click", ()=> doneModal.style.display="none");
</script>
</body>
</html>
